import worker from '../.svelte-kit/cloudflare/__worker';

/**
 * This Pages Functions request handler is purely here to wrap the Worker
 * generated by SvelteKit.
 *
 * Normally we would just pass the Worker directly to Pages, but at the moment
 * Pages will not add the D1 shim to such a Worker.
 *
 * By wrapping the worker in a Pages Functions handler, we get the shim added for us.
 */
export function onRequest(context) {
	return worker.fetch(context.request, context.env, context);
}
